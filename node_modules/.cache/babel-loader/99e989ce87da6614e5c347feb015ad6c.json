{"ast":null,"code":"import _asyncToGenerator from\"/Users/svetavo/dev/algososh/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/Users/svetavo/dev/algososh/node_modules/@babel/runtime/regenerator/index.js\";import{delay}from\"./utils\";import{queue}from\"../components/queue-page/Queue\";import{ElementStates}from\"../types/element-states\";export var enqueue=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(_ref){var value,array,currentIndex,setArray,setIsDisabled,setIsDisabledDequeue,setIsDisabledClear,setIsLoaderEnqueue,setTail,setHead,setCurrentIndex,setValue,newEl;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:value=_ref.value,array=_ref.array,currentIndex=_ref.currentIndex,setArray=_ref.setArray,setIsDisabled=_ref.setIsDisabled,setIsDisabledDequeue=_ref.setIsDisabledDequeue,setIsDisabledClear=_ref.setIsDisabledClear,setIsLoaderEnqueue=_ref.setIsLoaderEnqueue,setTail=_ref.setTail,setHead=_ref.setHead,setCurrentIndex=_ref.setCurrentIndex,setValue=_ref.setValue;setIsLoaderEnqueue(true);setIsDisabled(true);newEl={number:Number(value),state:ElementStates.Default};queue.enqueue(currentIndex,newEl,array);newEl.state=ElementStates.Changing;setArray(queue.queue);_context.next=9;return delay(500);case 9:newEl.state=ElementStates.Default;setHead(queue.head);setTail(queue.tail);setCurrentIndex(queue.currentIndex);setValue(\"\");setIsDisabled(false);setIsDisabledDequeue(false);setIsDisabledClear(false);setIsLoaderEnqueue(false);case 18:case\"end\":return _context.stop();}}},_callee);}));return function enqueue(_x){return _ref2.apply(this,arguments);};}();export var dequeue=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(_ref3){var array,head,setIsDisabled,setIsDisabledClear,setIsLoaderDequeue,setIsDisabledDequeue,setHead,setTail,setCurrentIndex,setArray,emptyElement;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:array=_ref3.array,head=_ref3.head,setIsDisabled=_ref3.setIsDisabled,setIsDisabledClear=_ref3.setIsDisabledClear,setIsLoaderDequeue=_ref3.setIsLoaderDequeue,setIsDisabledDequeue=_ref3.setIsDisabledDequeue,setHead=_ref3.setHead,setTail=_ref3.setTail,setCurrentIndex=_ref3.setCurrentIndex,setArray=_ref3.setArray,emptyElement=_ref3.emptyElement;setIsLoaderDequeue(true);setIsDisabled(true);queue.dequeue(head,emptyElement,array);setArray(queue.queue);_context2.next=7;return delay(500);case 7:setHead(queue.head);setTail(queue.tail);setCurrentIndex(queue.currentIndex);setIsDisabled(false);setIsLoaderDequeue(false);if(queue.tail===-1&&queue.head===-1){setIsDisabledClear(true);setIsDisabledDequeue(true);}case 13:case\"end\":return _context2.stop();}}},_callee2);}));return function dequeue(_x2){return _ref4.apply(this,arguments);};}();export var clearQueue=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(_ref5){var setIsDisabled,setIsDisabledClear,setIsLoaderClear,setIsDisabledDequeue,setArray,setTail,setCurrentIndex,setHead,emptyArray;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setIsDisabled=_ref5.setIsDisabled,setIsDisabledClear=_ref5.setIsDisabledClear,setIsLoaderClear=_ref5.setIsLoaderClear,setIsDisabledDequeue=_ref5.setIsDisabledDequeue,setArray=_ref5.setArray,setTail=_ref5.setTail,setCurrentIndex=_ref5.setCurrentIndex,setHead=_ref5.setHead,emptyArray=_ref5.emptyArray;setIsLoaderClear(true);setIsDisabled(true);queue.clear();_context3.next=6;return delay(500);case 6:setArray(emptyArray);setTail(queue.tail);setCurrentIndex(queue.currentIndex);setHead(queue.head);setIsDisabled(false);setIsLoaderClear(false);setIsDisabledClear(true);setIsDisabledDequeue(true);case 14:case\"end\":return _context3.stop();}}},_callee3);}));return function clearQueue(_x3){return _ref6.apply(this,arguments);};}();","map":{"version":3,"sources":["/Users/svetavo/dev/algososh/src/utils/queue-utils.ts"],"names":["delay","queue","ElementStates","enqueue","value","array","currentIndex","setArray","setIsDisabled","setIsDisabledDequeue","setIsDisabledClear","setIsLoaderEnqueue","setTail","setHead","setCurrentIndex","setValue","newEl","number","Number","state","Default","Changing","head","tail","dequeue","setIsLoaderDequeue","emptyElement","clearQueue","setIsLoaderClear","emptyArray","clear"],"mappings":"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","sourcesContent":["import { delay } from \"./utils\";\nimport { Dispatch, SetStateAction } from \"react\";\nimport { queue } from \"../components/queue-page/Queue\";\nimport { ElementStates } from \"../types/element-states\";\nimport { IArrEl } from \"../utils/utils\";\n\ntype Dispatcher<S> = Dispatch<SetStateAction<S>>;\n\ninterface IProps<T> {\n  value?: string;\n  array?: T[];\n  tail?: number;\n  head?: number;\n  currentIndex?: number;\n  emptyElement?: T;\n  emptyArray?: T[];\n  setIsLoaderEnqueue?: Dispatcher<boolean>;\n  setIsLoaderDequeue?: Dispatcher<boolean>;\n  setIsLoaderClear?: Dispatcher<boolean>;\n  setIsDisabled?: Dispatcher<boolean>;\n  setIsDisabledDequeue?: Dispatcher<boolean>;\n  setIsDisabledClear?: Dispatcher<boolean>;\n  setValue?: Dispatcher<string>;\n  setArray?: Dispatcher<T[]>;\n  setTail?: Dispatcher<number>;\n  setHead?: Dispatch<number>;\n  setCurrentIndex?: Dispatcher<number>;\n}\n\nexport const enqueue = async ({\n  value,\n  array,\n  currentIndex,\n  setArray,\n  setIsDisabled,\n  setIsDisabledDequeue,\n  setIsDisabledClear,\n  setIsLoaderEnqueue,\n  setTail,\n  setHead,\n  setCurrentIndex,\n  setValue,\n}: IProps<IArrEl>) => {\n  setIsLoaderEnqueue!(true);\n  setIsDisabled!(true);\n  const newEl = { number: Number(value), state: ElementStates.Default };\n  queue.enqueue(currentIndex!, newEl!, array!);\n  newEl.state = ElementStates.Changing;\n  setArray!(queue.queue);\n  await delay(500);\n  newEl.state = ElementStates.Default;\n  setHead!(queue.head);\n  setTail!(queue.tail);\n  setCurrentIndex!(queue.currentIndex);\n  setValue!(\"\");\n  setIsDisabled!(false);\n  setIsDisabledDequeue!(false);\n  setIsDisabledClear!(false);\n  setIsLoaderEnqueue!(false);\n};\n\nexport const dequeue = async ({\n  array,\n  head,\n  setIsDisabled,\n  setIsDisabledClear,\n  setIsLoaderDequeue,\n  setIsDisabledDequeue,\n  setHead,\n  setTail,\n  setCurrentIndex,\n  setArray,\n  emptyElement,\n}: IProps<IArrEl>) => {\n  setIsLoaderDequeue!(true);\n  setIsDisabled!(true);\n  queue.dequeue(head!, emptyElement!, array!);\n  setArray!(queue.queue);\n  await delay(500);\n  setHead!(queue.head);\n  setTail!(queue.tail);\n  setCurrentIndex!(queue.currentIndex);\n  setIsDisabled!(false);\n  setIsLoaderDequeue!(false);\n  if (queue.tail === -1 && queue.head === -1) {\n    setIsDisabledClear!(true);\n    setIsDisabledDequeue!(true);\n  }\n};\n\nexport const clearQueue = async ({\n  setIsDisabled,\n  setIsDisabledClear,\n  setIsLoaderClear,\n  setIsDisabledDequeue,\n  setArray,\n  setTail,\n  setCurrentIndex,\n  setHead,\n  emptyArray,\n}: IProps<IArrEl>) => {\n  setIsLoaderClear!(true);\n  setIsDisabled!(true);\n  queue.clear();\n  await delay(500);\n  setArray!(emptyArray!);\n  setTail!(queue.tail);\n  setCurrentIndex!(queue.currentIndex);\n  setHead!(queue.head);\n  setIsDisabled!(false);\n  setIsLoaderClear!(false);\n  setIsDisabledClear!(true);\n  setIsDisabledDequeue!(true);\n};\n"]},"metadata":{},"sourceType":"module"}