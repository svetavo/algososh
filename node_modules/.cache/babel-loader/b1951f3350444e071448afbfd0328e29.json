{"ast":null,"code":"import _asyncToGenerator from\"/Users/svetavo/dev/algososh/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/svetavo/dev/algososh/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/svetavo/dev/algososh/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from\"react\";import{SolutionLayout}from\"../ui/solution-layout/solution-layout\";import{Input}from\"../ui/input/input\";import{Circle}from\"../ui/circle/circle\";import{Button}from\"../ui/button/button\";import styles from\"./string.module.css\";import{delay}from\"../../utils/utils\";import{circleColor}from\"../../utils/string-utils\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var StringComponent=function StringComponent(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),value=_useState2[0],setValue=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isOpen=_useState4[0],setIsOpen=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),arr=_useState6[0],setArr=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),isLoader=_useState8[0],setIsLoader=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),currentIndex=_useState10[0],setCurrentIndex=_useState10[1];var reverse=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(value){var newArr;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoader(true);newArr=value.split(\"\");setArr(newArr);_context.next=5;return delay(1000);case 5:arrReverse(newArr);setIsOpen(true);case 7:case\"end\":return _context.stop();}}},_callee);}));return function reverse(_x){return _ref.apply(this,arguments);};}();var onChange=function onChange(e){setValue(e.target.value);};var arrReverse=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(arr){var end,mid,i,_ref3;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:end=arr.length-1;mid=Math.floor(arr.length/2);setCurrentIndex(0);i=0;case 4:if(!(i<mid)){_context2.next=15;break;}_context2.next=7;return delay(1000);case 7:_ref3=[arr[end-i],arr[i]];arr[i]=_ref3[0];arr[end-i]=_ref3[1];setCurrentIndex(function(i){return i+1;});setArr(arr);case 12:i++;_context2.next=4;break;case 15:setIsLoader(false);case 16:case\"end\":return _context2.stop();}}},_callee2);}));return function arrReverse(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(SolutionLayout,{title:\"\\u0421\\u0442\\u0440\\u043E\\u043A\\u0430\",children:/*#__PURE__*/_jsxs(\"div\",{className:styles.container,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.input,children:[/*#__PURE__*/_jsx(Input,{onChange:onChange,type:\"text\",maxLength:11,isLimitText:true,\"data-test\":\"input-tag\"}),/*#__PURE__*/_jsx(Button,{text:\"\\u0420\\u0430\\u0437\\u0432\\u0435\\u0440\\u043D\\u0443\\u0442\\u044C\",onClick:function onClick(){return reverse(value);},isLoader:isLoader,disabled:value?false:true,\"data-test\":\"button-tag\"})]}),/*#__PURE__*/_jsx(\"div\",{children:isOpen?/*#__PURE__*/_jsx(\"div\",{className:styles.result,children:arr===null||arr===void 0?void 0:arr.map(function(item,index){return/*#__PURE__*/_jsx(Circle,{letter:item,extraClass:styles.item,state:circleColor(currentIndex,index,arr),\"data-test\":\"circle-tag\"},index);})}):null})]})});};","map":{"version":3,"sources":["/Users/svetavo/dev/algososh/src/components/string/string.tsx"],"names":["React","useState","SolutionLayout","Input","Circle","Button","styles","delay","circleColor","StringComponent","value","setValue","isOpen","setIsOpen","arr","setArr","isLoader","setIsLoader","currentIndex","setCurrentIndex","reverse","newArr","split","arrReverse","onChange","e","target","end","length","mid","Math","floor","i","container","input","result","map","item","index"],"mappings":"sVAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAA6C,OAA7C,CACA,OAASC,cAAT,KAA+B,uCAA/B,CACA,OAASC,KAAT,KAAsB,mBAAtB,CACA,OAASC,MAAT,KAAuB,qBAAvB,CACA,OAASC,MAAT,KAAuB,qBAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,OAASC,KAAT,KAAsB,mBAAtB,CACA,OAASC,WAAT,KAA4B,0BAA5B,C,wFAEA,MAAO,IAAMC,CAAAA,eAAyB,CAAG,QAA5BA,CAAAA,eAA4B,EAAM,CAC7C,cAA0BR,QAAQ,CAAC,EAAD,CAAlC,wCAAOS,KAAP,eAAcC,QAAd,eACA,eAA4BV,QAAQ,CAAC,KAAD,CAApC,yCAAOW,MAAP,eAAeC,SAAf,eACA,eAAsBZ,QAAQ,CAAkB,IAAlB,CAA9B,yCAAOa,GAAP,eAAYC,MAAZ,eACA,eAAgCd,QAAQ,CAAU,KAAV,CAAxC,yCAAOe,QAAP,eAAiBC,WAAjB,eACA,eAAwChB,QAAQ,CAAC,CAAD,CAAhD,0CAAOiB,YAAP,gBAAqBC,eAArB,gBAEA,GAAMC,CAAAA,OAAO,0FAAG,iBAAOV,KAAP,6HACdO,WAAW,CAAC,IAAD,CAAX,CACMI,MAFQ,CAECX,KAAK,CAACY,KAAN,CAAY,EAAZ,CAFD,CAGdP,MAAM,CAACM,MAAD,CAAN,CAHc,sBAIRd,CAAAA,KAAK,CAAC,IAAD,CAJG,QAKdgB,UAAU,CAACF,MAAD,CAAV,CACAR,SAAS,CAAC,IAAD,CAAT,CANc,sDAAH,kBAAPO,CAAAA,OAAO,4CAAb,CASA,GAAMI,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,CAAD,CAAsC,CACrDd,QAAQ,CAACc,CAAC,CAACC,MAAF,CAAShB,KAAV,CAAR,CACD,CAFD,CAIA,GAAMa,CAAAA,UAAU,2FAAG,kBAAOT,GAAP,0IACXa,GADW,CACLb,GAAG,CAACc,MAAJ,CAAa,CADR,CAEXC,GAFW,CAELC,IAAI,CAACC,KAAL,CAAWjB,GAAG,CAACc,MAAJ,CAAa,CAAxB,CAFK,CAGjBT,eAAe,CAAC,CAAD,CAAf,CACSa,CAJQ,CAIJ,CAJI,aAIDA,CAAC,CAAGH,GAJH,mDAKTtB,CAAAA,KAAK,CAAC,IAAD,CALI,cAMU,CAACO,GAAG,CAACa,GAAG,CAAGK,CAAP,CAAJ,CAAelB,GAAG,CAACkB,CAAD,CAAlB,CANV,CAMdlB,GAAG,CAACkB,CAAD,CANW,UAMNlB,GAAG,CAACa,GAAG,CAAGK,CAAP,CANG,UAOfb,eAAe,CAAC,SAACa,CAAD,QAAOA,CAAAA,CAAC,CAAG,CAAX,EAAD,CAAf,CACAjB,MAAM,CAACD,GAAD,CAAN,CARe,QAIQkB,CAAC,EAJT,gCAUjBf,WAAW,CAAC,KAAD,CAAX,CAViB,yDAAH,kBAAVM,CAAAA,UAAU,8CAAhB,CAaA,mBACE,KAAC,cAAD,EAAgB,KAAK,CAAC,sCAAtB,uBACE,aAAK,SAAS,CAAEjB,MAAM,CAAC2B,SAAvB,wBACE,aAAK,SAAS,CAAE3B,MAAM,CAAC4B,KAAvB,wBACE,KAAC,KAAD,EACE,QAAQ,CAAEV,QADZ,CAEE,IAAI,CAAC,MAFP,CAGE,SAAS,CAAE,EAHb,CAIE,WAAW,CAAE,IAJf,CAKE,YAAU,WALZ,EADF,cAQE,KAAC,MAAD,EACE,IAAI,CAAC,8DADP,CAEE,OAAO,CAAE,yBAAMJ,CAAAA,OAAO,CAACV,KAAD,CAAb,EAFX,CAGE,QAAQ,CAAEM,QAHZ,CAIE,QAAQ,CAAEN,KAAK,CAAG,KAAH,CAAW,IAJ5B,CAKE,YAAU,YALZ,EARF,GADF,cAiBE,qBACGE,MAAM,cACL,YAAK,SAAS,CAAEN,MAAM,CAAC6B,MAAvB,UACGrB,GADH,SACGA,GADH,iBACGA,GAAG,CAAEsB,GAAL,CAAS,SAACC,IAAD,CAAOC,KAAP,qBACR,KAAC,MAAD,EACE,MAAM,CAAED,IADV,CAGE,UAAU,CAAE/B,MAAM,CAAC+B,IAHrB,CAIE,KAAK,CAAE7B,WAAW,CAACU,YAAD,CAAeoB,KAAf,CAAsBxB,GAAtB,CAJpB,CAKE,YAAU,YALZ,EAEOwB,KAFP,CADQ,EAAT,CADH,EADK,CAYH,IAbN,EAjBF,GADF,EADF,CAqCD,CAtEM","sourcesContent":["import React, { useState, ChangeEvent } from \"react\";\nimport { SolutionLayout } from \"../ui/solution-layout/solution-layout\";\nimport { Input } from \"../ui/input/input\";\nimport { Circle } from \"../ui/circle/circle\";\nimport { Button } from \"../ui/button/button\";\nimport styles from \"./string.module.css\";\nimport { delay } from \"../../utils/utils\";\nimport { circleColor } from \"../../utils/string-utils\";\n\nexport const StringComponent: React.FC = () => {\n  const [value, setValue] = useState(\"\");\n  const [isOpen, setIsOpen] = useState(false);\n  const [arr, setArr] = useState<null | string[]>(null);\n  const [isLoader, setIsLoader] = useState<boolean>(false);\n  const [currentIndex, setCurrentIndex] = useState(0);\n\n  const reverse = async (value: string) => {\n    setIsLoader(true);\n    const newArr = value.split(\"\");\n    setArr(newArr);\n    await delay(1000);\n    arrReverse(newArr);\n    setIsOpen(true);\n  };\n\n  const onChange = (e: ChangeEvent<HTMLInputElement>) => {\n    setValue(e.target.value);\n  };\n\n  const arrReverse = async (arr: string[]) => {\n    const end = arr.length - 1;\n    const mid = Math.floor(arr.length / 2);\n    setCurrentIndex(0);\n    for (let i = 0; i < mid; i++) {\n      await delay(1000);\n      [arr[i], arr[end - i]] = [arr[end - i], arr[i]];\n      setCurrentIndex((i) => i + 1);\n      setArr(arr);\n    }\n    setIsLoader(false);\n  };\n\n  return (\n    <SolutionLayout title=\"Строка\">\n      <div className={styles.container}>\n        <div className={styles.input}>\n          <Input\n            onChange={onChange}\n            type=\"text\"\n            maxLength={11}\n            isLimitText={true}\n            data-test=\"input-tag\"\n          />\n          <Button\n            text=\"Развернуть\"\n            onClick={() => reverse(value)}\n            isLoader={isLoader}\n            disabled={value ? false : true}\n            data-test=\"button-tag\"\n          />\n        </div>\n        <div>\n          {isOpen ? (\n            <div className={styles.result}>\n              {arr?.map((item, index) => (\n                <Circle\n                  letter={item}\n                  key={index}\n                  extraClass={styles.item}\n                  state={circleColor(currentIndex, index, arr)}\n                  data-test=\"circle-tag\"\n                />\n              ))}\n            </div>\n          ) : null}\n        </div>\n      </div>\n    </SolutionLayout>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}